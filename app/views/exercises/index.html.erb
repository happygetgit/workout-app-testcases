<% # Importing D3.js %>
<script src="https://d3js.org/d3.v5.min.js" charset="utf-8" defer></script>

<% #Importing D3-Scale  %>
<script src="https://d3js.org/d3-scale.v3.min.js"></script>

<% #Connecting my JS file %>
<script src="exercise.js" defer></script>

<div class="col-md-8 col-xs-12">
    <% unless @exercises.empty? %>
        <h1>Listing Exercises</h1>
        <%= will_paginate @exercises, renderer: BootstrapPagination::Rails, class: "pull-left paginate" %>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Duration (min)</th>
                    <th>Workout Details</th>
                    <th>Activity Date</th>
                    <th colspan="3"></th>
                    </tr>
            </thead>
            <tbody>
                <% @exercises.each do |exercise| %>
                    <tr>
                        <td><%= exercise.duration_in_min %></td>
                        <td><%= truncate(exercise.workout, length: 100) %></td>
                        <td><%= exercise.workout_date %></td>
                        <td><%= link_to "Show", [current_user, exercise] %></td>
                        <td><%= link_to "Edit", [:edit, current_user, exercise] %></td>
                        <td><%= link_to "Destroy", [current_user, exercise], method: :delete, data: {confirm: 'Are you sure?'} %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
        <br>
        <br>
    <% else %>
        <div class="alert alert-danger message-font text-center" role="alert">
                    No Workouts yet
        </div>
        <br>
    <% end %>
    <%= link_to "New Workout", new_user_exercise_path(current_user), class: "btn btn-success link" %>

    
</div>


<%= content_tag :div, "", id: 'chart', data: { workouts: @exercises}  %>